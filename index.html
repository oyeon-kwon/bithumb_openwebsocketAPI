<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>빗썸 오픈 websocket API 연습</title>
</head>
<body>
<div>F12를 눌러 console 탭과 network 탭을 확인하세요.</div>
<script>
  const webSocket = new WebSocket("wss://pubwss.bithumb.com/pub/ws");
  webSocket.onopen = function () {
    console.log('서버와 웹소켓 연결 성공!');
  };
  
  webSocket.onmessage = function (event) {

    console.log(event.data);
    const msg = {"type":"ticker", "symbols": ["BTC_KRW", "ETH_KRW"], "tickTypes": ["30M", "1H", "12H", "24H", "MID" ]}
    webSocket.send(JSON.stringify(msg))

    console.log(event.data);
  };
</script>
</body>
</html>